import{_ as C,j as u,c,o as r,l as y,y as D,t as N,z as T,a as U,A as z,r as a,g as K,k as P,b as n,m as k,w as Y,T as j}from"./Hc6fgaMG.js";import{u as G,A as L}from"./jcxU-htY.js";import{u as q,V as F,C as H}from"./IwieJbga.js";import{M as J}from"./BzPiQ1zL.js";import{u as O}from"./DtiuviiQ.js";const Q={class:"input-container"},R={key:0},W=["type","placeholder","autocomplete","spellcheck"],X={__name:"Input",props:{modelValue:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},autocomplete:{type:String,default:"off"},spellcheck:{type:Boolean,default:!1}},emits:["update:modelValue","enter"],setup(l,{emit:p}){const m=l,v=p,o=u({get:()=>m.modelValue,set:s=>v("update:modelValue",s)});return(s,e)=>(r(),c("div",Q,[l.label?(r(),c("label",R,N(l.label),1)):y("",!0),D(U("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"input",type:l.type,placeholder:l.placeholder,autocomplete:l.autocomplete,spellcheck:l.spellcheck,onKeyup:e[1]||(e[1]=z(t=>s.$emit("enter"),["enter"]))},null,40,W),[[T,o.value]])]))}},Z=C(X,[["__scopeId","data-v-b996ebb3"]]),ee={class:"riddle-container"},te={key:0,class:"inputContainer style-bordeaux c-white"},le="/games/riddle/wk_start.png",ae={__name:"riddle",setup(l){const{returnToMap:p}=q(),{showAlert:m,alertMessage:v,triggerAlert:o,hideAlert:s}=G(),e={start:"/games/riddle/video/wk_start.mp4",idle:"/games/riddle/video/wk_idle.mp4",correct:"/games/riddle/video/wk_right.mp4",wrong:"/games/riddle/video/wk_wrong.mp4"},t=a(e.start),i=a(!1),d=a(!1),f=a(!1),w=a(""),g=a(!1),h=a(0),I=O(),x=u(()=>t.value===e.idle),M=u(()=>t.value===e.wrong),_=u(()=>localStorage.getItem("wk_riddle_completed")==="true");K(()=>{_.value?(f.value=!0,o("You have already completed this riddle")):o("Press anywhere to continue")});function B(){s(),i.value=!0}function b(){o("Цей секретний артефакт був подарований тобі, характер він інтимний мав, його назва: ???"),t.value=e.idle,i.value=!1,d.value=!0}function E(){t.value===e.start?b():t.value===e.idle?d.value=!0:t.value===e.wrong?t.value=e.idle:t.value===e.correct&&(localStorage.setItem("wk_riddle_completed","true"),f.value=!0,h.value=10,I.addCoins(h.value))}function V(){const S=["трусіки","трусики","труси","трусы","underpants"];g.value=S.includes(w.value.trim().toLowerCase()),t.value=g.value?e.correct:e.wrong,i.value=!1,g.value&&(s(),d.value=!1)}return(S,A)=>(r(),c("div",ee,[k(m)?(r(),P(L,{key:0,message:k(v)},null,8,["message"])):y("",!0),n(F,{poster:le,"video-src":t.value,loop:x.value,"show-skip":i.value,"can-play":!_.value,onStarted:B,onEnded:E,onSkip:b},null,8,["video-src","loop","show-skip","can-play"]),n(j,{name:"fade-input"},{default:Y(()=>[d.value?(r(),c("div",te,[n(Z,{modelValue:w.value,"onUpdate:modelValue":A[0]||(A[0]=$=>w.value=$),label:"Enter the correct answer:",onEnter:V},null,8,["modelValue"]),n(J,{disabled:M.value,class:"no-border-shadow","button-text":"Answer",size:"large",onClicked:V},null,8,["disabled"])])):y("",!0)]),_:1}),n(H,{title:"You have guessed the riddle",visible:f.value,coins:h.value,"on-clicked":k(p)},null,8,["visible","coins","on-clicked"])]))}},de=C(ae,[["__scopeId","data-v-a946880c"]]);export{de as default};
