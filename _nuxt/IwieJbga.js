import{M as v}from"./BzPiQ1zL.js";import{_ as y,r as m,x as k,g as h,c as d,o as c,a as i,k as S,l as r,b,t as f,B}from"./Hc6fgaMG.js";import{_}from"./DtiuviiQ.js";const w=["poster","loop","muted"],g={__name:"VideoPlayer",props:{videoSrc:{type:String,default:""},poster:{type:String,default:""},loop:Boolean,showSkip:Boolean,muted:{type:Boolean,default:!1},canPlay:{type:Boolean,default:!0}},emits:["started","ended","skip"],setup(e,{emit:a}){const t=e,n=a,o=m(null),s=m(!1);function u(){o.value&&t.videoSrc&&(o.value.src=t.videoSrc,o.value.play().catch(l=>{console.warn("Autoplay blocked or error:",l)}),o.value.onended=()=>{n("ended")})}function C(){t.canPlay&&(s.value||(s.value=!0,u(),n("started")))}return k(()=>t.videoSrc,l=>{s.value&&l&&o.value&&u()}),h(()=>{o.value.muted=t.muted}),(l,p)=>(c(),d("div",{class:"video-wrapper fullscreen",onClick:C},[i("video",{ref_key:"videoEl",ref:o,poster:e.poster,loop:e.loop,playsinline:"",muted:e.muted,class:"video-player"},null,8,w),e.showSkip?(c(),S(v,{key:0,class:"skipButton",size:"small","button-text":"Skip",onClicked:p[0]||(p[0]=A=>l.$emit("skip"))})):r("",!0)]))}},T=y(g,[["__scopeId","data-v-a9aa49aa"]]),x={key:0,class:"modal-overlay fade-in"},M={class:"modal-content scale-up style-bordeaux c-white"},V={class:"modal-title"},N={key:0},P={class:"modal-coins"},$={__name:"CoinsModal",props:{visible:{type:Boolean,default:!0},coins:{type:Number,default:0},title:{type:String,default:"You received"},onClicked:{type:Function,default:()=>{}}},setup(e){const a=e,t=new Audio("/audio/coins.wav"),n=new Audio("/audio/wrong.mp3");return h(()=>{a.visible&&(a.coins!==0?t.play():n.play())}),k(()=>a.visible,o=>{o&&(a.coins!==0?t.play():n.play())}),(o,s)=>e.visible?(c(),d("div",x,[i("div",M,[i("h2",V,f(e.title),1),e.coins!==0?(c(),d("div",N,[s[0]||(s[0]=i("img",{src:_,alt:"Coins",class:"coin-image"},null,-1)),i("p",P,f(e.coins)+" coins!",1)])):r("",!0),b(v,{"button-text":"Continue",size:"large",class:"continue-button",onClicked:e.onClicked},null,8,["onClicked"])])])):r("",!0)}},D=y($,[["__scopeId","data-v-fac42007"]]),F=()=>{const e=B();return{returnToMap:()=>{e.push("/")}}};export{D as C,T as V,F as u};
